var $pg_logging=!1;function addListener(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}sg_storage_wrapper=function(){try{"localStorage"in window&&window.localStorage!=null&&(addListener(window,"message",function(a){return function(c){a.on_window_msg(c)}}(this),!1),window.setTimeout(function(a){return function(){a.extension_call("on_storage_ready")}}(this),1))}catch(a){}};
sg_storage_wrapper.prototype={setItem:function(a,b){localStorage.setItem(a,b)},getItem:function(a){var b=localStorage.getItem(a);this.extension_call("on_get_item_results",a,b)},refresh_cache:function(a){var b=localStorage.getItem(a);this.extension_call("on_refresh_cache_results",a,b)},removeItem:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()},register_storage_change:function(){addListener("onstorage"in document?document:window,"storage",function(a){return function(b){a.on_storage_changed(b)}}(this),
!1)},extension_call:function(){for(var a=Array.prototype.shift.call(arguments),b=[],c=0,d=arguments.length;c<d;++c)b.push(arguments[c]);a=JSON.stringify({method:a,args:b});window.parent.postMessage(a,"*")},on_window_msg:function(a){try{var b=JSON.parse(a.data);this[b.method]&&this[b.method].apply(this,b.args)}catch(c){}},on_storage_changed:function(a){if(!a)a=window.event;if(!a.key)a.key="sg_conf_global_new";if(!a.newValue)a.newValue=localStorage.getItem(a.key);if(!(a.oldValue&&a.oldValue==a.newValue)){var b=
localStorage.getItem(a.key);this.extension_call("on_storage_changed",a.key,b)}}};var sg_storage_wrapper=new sg_storage_wrapper;
